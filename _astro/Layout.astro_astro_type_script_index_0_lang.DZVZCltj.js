function e(){const e=document.querySelectorAll(".scroll-animation"),t=document.querySelectorAll(".section");e.forEach(e=>{const{isVisible:t,isCompletelyOutOfView:o}=function(e){const t=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;return{isVisible:t.top<=.85*o&&t.bottom>=.15*o,isCompletelyOutOfView:t.bottom<=0||t.top>=o}}(e);t?e.classList.add("active"):e.classList.contains("exit-enabled")&&o?(e.classList.remove("active"),e.classList.add("exit-active")):e.classList.contains("exit-enabled")&&!o&&e.classList.remove("exit-active")}),t.forEach(e=>{const t=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;t.top<=.5*o&&t.bottom>=.5*o?e.classList.add("in-view"):e.classList.remove("in-view")})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-links"),o=document.querySelectorAll(".nav-link"),n=document.body;if(!e||!t)return;function s(){e.classList.toggle("active"),t.classList.toggle("active");e.classList.contains("active")?(n.style.overflow="hidden",o.forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateX(-100px) rotate(-5deg)",e.style.filter="blur(5px)",setTimeout(()=>{e.style.opacity="1",e.style.transform="translateX(0) rotate(0deg)",e.style.filter="blur(0px)"},150+100*t)})):(n.style.overflow="",o.forEach((e,t)=>{setTimeout(()=>{e.style.opacity="0",e.style.transform="translateX(100px) rotate(5deg)",e.style.filter="blur(5px)"},50*t)}))}e.addEventListener("click",e=>{e.preventDefault(),s()}),o.forEach(t=>{t.addEventListener("click",()=>{e.classList.contains("active")&&s()})}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("active")&&s()});const i=document.querySelectorAll("section");window.addEventListener("scroll",()=>{let e="";i.forEach(t=>{const o=t.offsetTop,n=t.clientHeight;pageYOffset>=o-n/3&&(e=t.getAttribute("id"))}),o.forEach(t=>{t.classList.remove("active-link"),t.getAttribute("href").slice(1)===e&&t.classList.add("active-link")})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("contact-form"),t=document.getElementById("modal-confirm"),o=document.getElementById("modal-close");if(e&&t&&o){function n(){t.style.display="none",document.body.style.overflow=""}e.addEventListener("submit",e=>{setTimeout(()=>{t.style.display="flex",document.body.style.overflow="hidden"},100)}),o.addEventListener("click",n),o.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key&&"Escape"!==e.key||n()}),window.addEventListener("keydown",e=>{"flex"===t.style.display&&"Escape"===e.key&&n()}),t.addEventListener("click",e=>{e.target===t&&n()})}}),document.addEventListener("DOMContentLoaded",()=>{!function(){try{document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const o=document.querySelector(t);if(o){document.body.classList.add("scrolling");const n=o.getBoundingClientRect().top+window.pageYOffset,s=window.pageYOffset,i=n-s,c=800;let r=null;function a(e){null===r&&(r=e);const t=e-r,o=l(Math.min(t/c,1));window.scrollTo(0,s+i*o),t<c?requestAnimationFrame(a):(document.body.classList.remove("scrolling"),window.scrollTo(0,n))}function l(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}requestAnimationFrame(a)}})});const e=document.createElement("style");e.textContent="\n      body.scrolling section {\n        transition: opacity 0.3s ease;\n        opacity: 0.7;\n      }\n      section {\n        transition: opacity 0.5s ease;\n      }\n    ",document.head.appendChild(e)}catch(e){return}}(),function(){const e=document.querySelectorAll("#projects .project-card");function t(){const e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;return e?document.body.classList.add("touch-device"):document.body.classList.add("no-touch-device"),e}const o=t();e.forEach((e,t)=>{const n=e.querySelector(".project-tilt-container");!o&&n?(e.addEventListener("mousemove",function(e){const t=this.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top,s=t.width/2,i=t.height/2,c=(o-s)/s,r=(n-i)/i,a=this.querySelector(".project-tilt-container");a&&(a.style.transform=`perspective(1200px) rotateX(${-8*r}deg) rotateY(${8*c}deg) scale3d(1.02, 1.02, 1.02)`)}),e.addEventListener("mouseleave",function(){const e=this.querySelector(".project-tilt-container");e&&(e.style.transform="perspective(1200px) rotateX(0) rotateY(0) scale3d(1, 1, 1)")})):o&&(e.addEventListener("touchstart",function(e){this.classList.add("touch-active")},{passive:!0}),e.addEventListener("touchend",function(){setTimeout(()=>{this.classList.remove("touch-active")},2e3)},{passive:!0}))}),function(){const e=document.querySelectorAll("#projects .project-card"),t=document.body.classList.contains("touch-device");if("IntersectionObserver"in window){const o=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){if(e.target.classList.add("in-view"),t){const t=e.target.querySelector(".project-content"),o=e.target.querySelector(".project-image"),n=e.target.querySelector(".project-number"),s=e.target.querySelector(".project-tilt-container");t&&t.classList.add("animated"),o&&o.classList.add("animated"),n&&n.classList.add("animated"),s&&s.classList.add("animated")}else{const t=e.target.querySelector(".project-tilt-container"),o=e.target.querySelector(".project-content"),n=e.target.querySelector(".project-image"),s=e.target.querySelector(".project-number"),i=e.target.querySelector(".project-pattern");t&&t.classList.add("animated"),o&&o.classList.add("animated"),n&&n.classList.add("animated"),s&&s.classList.add("animated"),i&&i.classList.add("animated")}!function(e){const t=new IntersectionObserver(o=>{o.forEach(o=>{!o.isIntersecting&&o.boundingClientRect.top<0&&(e.classList.add("exit-animation"),setTimeout(()=>{e.classList.remove("exit-animation")},500),t.unobserve(e))})},{threshold:0,rootMargin:"-20% 0px 0px 0px"});t.observe(e)}(e.target)}else if(e.boundingClientRect.top>0){e.target.classList.remove("in-view");e.target.querySelectorAll(".animated").forEach(e=>{e.classList.remove("animated")})}})},{threshold:.15,rootMargin:"0px 0px -100px 0px"});e.forEach(e=>{e.classList.add("scroll-animate"),o.observe(e)})}else e.forEach(e=>{e.classList.add("in-view")})}()}(),function(){const e=document.querySelector("#skills");if(!e)return;const t=e.querySelector(".skills-grid");if(!t)return;t.innerHTML="";const o=[{name:"HTML",level:90,logo:"resources/img/skills/html-icon.png"},{name:"CSS",level:85,logo:"resources/img/skills/css-icon.png"},{name:"JAVASCRIPT",level:80,logo:"resources/img/skills/javascript-icon.png"},{name:"REACT",level:60,logo:"resources/img/skills/react-icon.png"},{name:"PYTHON",level:75,logo:"resources/img/skills/python-icon.png"},{name:"FLASK",level:60,logo:"resources/img/skills/flask-icon.png"},{name:"MYSQL",level:75,logo:"resources/img/skills/mysql-icon.png"},{name:"FIGMA",level:80,logo:"resources/img/skills/figma-icon.png"},{name:"TAILWIND",level:65,logo:"resources/img/skills/tailwind-icon.png"},{name:"JAVA",level:80,logo:"resources/img/skills/java-icon.png"}];function n(){const e=window.innerWidth;let t=48;return e<=400?t=32:e<=576?t=36:e<=768?t=40:e<=992&&(t=44),t}const s=n();o.forEach((e,o)=>{const n=document.createElement("div");n.className=`skill-card scroll-animation ${o%2==0?"from-left":"from-right"} delay-${o%5+1}`;const i=document.createElement("div");i.className="skill-logo";const c=document.createElement("img");c.src=e.logo,c.alt=`${e.name} logo`,c.width=s,c.height=s,i.appendChild(c);const r=document.createElement("div");r.className="skill-name",r.textContent=e.name,n.appendChild(i),n.appendChild(r),t.appendChild(n)});const i=t.querySelectorAll(".skill-card");("ontouchstart"in window||navigator.maxTouchPoints>0)&&i.forEach(e=>{e.addEventListener("click",function(){i.forEach(e=>{e!==this&&e.classList.remove("touch-active")}),this.classList.toggle("touch-active")})});(function(){const e=document.querySelectorAll("#skills .skill-card");if("IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("in-view")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{e.classList.add("scroll-animate"),t.observe(e)})}else e.forEach(e=>{e.classList.add("in-view")})})(),window.addEventListener("resize",()=>{const e=n();t.querySelectorAll(".skill-logo img").forEach(t=>{t.width=e,t.height=e})})}(),function(){const e=document.getElementById("contact-form");if(!e)return;e.classList.add("scroll-animation","from-bottom");const t=e.querySelectorAll(".form-group");t.forEach((e,t)=>{e.classList.add("scroll-animation","from-left",`delay-${t+1}`);const o=e.querySelector("input, textarea"),n=e.querySelector("label");o&&n&&(""!==o.value.trim()&&n.classList.add("active"),o.addEventListener("focus",()=>{n.classList.add("active"),o.classList.add("active")}),o.addEventListener("blur",()=>{""===o.value.trim()&&n.classList.remove("active"),o.classList.remove("active")}),("ontouchstart"in window||navigator.maxTouchPoints>0)&&o.addEventListener("touchstart",()=>{setTimeout(()=>{n.classList.add("active")},100)}))});const o=e.querySelector(".submit-button");o&&o.classList.add("scroll-animation","from-bottom","delay-4");e.addEventListener("submit",e=>{e.preventDefault();const o=e.target,n=new FormData(o);fetch("https://formspree.io/f/mzzvvgog",{method:"POST",body:n,headers:{Accept:"application/json"}}).then(e=>{if(!e.ok)return e.json().then(e=>{throw new Error(e.error||"Error al enviar el formulario.")});o.reset(),t.forEach(e=>{const t=e.querySelector("label");t&&t.classList.remove("active")});var n=document.getElementById("modal-confirm");n&&(n.style.display="flex",document.body.style.overflow="hidden")}).catch(()=>{alert("Hubo un problema al enviar el formulario. Intenta nuevamente.")})}),function(){const e=document.querySelector("#contact .contact-form"),t=document.querySelectorAll("#contact .form-group"),o=document.querySelector("#contact .submit-button");if("IntersectionObserver"in window){const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("active")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e&&n.observe(e),t.forEach(e=>n.observe(e)),o&&n.observe(o)}else e&&e.classList.add("active"),t.forEach(e=>e.classList.add("active")),o&&o.classList.add("active")}()}(),function(){const t=document.querySelectorAll(".fade-in-section"),o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1});t.forEach(e=>{o.observe(e)}),e(),window.addEventListener("scroll",()=>{e()}),window.addEventListener("resize",()=>{e()})}(),document.querySelectorAll(".section").forEach(e=>{if(!e.querySelector(".particles")){const t=document.createElement("div");t.className="particles",e.appendChild(t);for(let e=0;e<15;e++){const e=document.createElement("span");e.className="particle";const o=100*Math.random(),n=100*Math.random(),s=10*Math.random()+5,i=20*Math.random()+10,c=5*Math.random();e.style.left=`${o}%`,e.style.top=`${n}%`,e.style.width=`${s}px`,e.style.height=`${s}px`,e.style.animationDuration=`${i}s`,e.style.animationDelay=`${c}s`,t.appendChild(e)}}}),function(){const e=document.querySelector(".scroll-top-button");if(!e)return;window.addEventListener("scroll",()=>{window.pageYOffset>300?(e.style.display="block",setTimeout(()=>{e.classList.add("active")},10)):(e.classList.remove("active"),setTimeout(()=>{e.classList.contains("active")||(e.style.display="none")},300))}),e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),("ontouchstart"in window||navigator.maxTouchPoints>0)&&(e.addEventListener("touchstart",function(){this.style.transform="scale(0.9)"}),e.addEventListener("touchend",function(){this.style.transform=""}))}(),function(){const e=document.querySelectorAll("#education .education-card"),t="ontouchstart"in window||navigator.maxTouchPoints>0;e.forEach((o,n)=>{o.style.transitionDelay=.05*n+"s",t?(o.addEventListener("click",function(t){e.forEach(e=>{if(e!==this){e.classList.remove("active-touch");const t=e.querySelector(".education-title"),o=e.querySelector(".education-year"),n=e.querySelector(".education-school"),s=e.querySelector(".education-description");t&&(t.style.transform=""),o&&(o.style.backgroundColor="",o.style.color=""),n&&(n.style.transform=""),s&&(s.style.transform="",s.style.opacity="")}}),this.classList.toggle("active-touch");const o=this.classList.contains("active-touch"),n=this.querySelector(".education-title"),s=this.querySelector(".education-year"),i=this.querySelector(".education-school"),c=this.querySelector(".education-description");o?(this.style.transform="translateY(-8px)",this.style.boxShadow="12px 12px 0 rgba(0, 0, 0, 0.2)",this.style.zIndex="10",n&&(n.style.transform="translateX(5px)"),s&&(s.style.backgroundColor="black",s.style.color="white"),i&&(i.style.transform="translateX(-5px)"),c&&(c.style.transform="translateY(-3px)",c.style.opacity="1")):(this.style.transform="",this.style.boxShadow="",this.style.zIndex="",n&&(n.style.transform=""),s&&(s.style.backgroundColor="",s.style.color=""),i&&(i.style.transform=""),c&&(c.style.transform="",c.style.opacity=""))}),o.addEventListener("touchstart",function(){this.style.transition="transform 0.2s ease"}),o.addEventListener("touchend",function(){this.style.transition="all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)"})):(o.addEventListener("mouseenter",()=>{o.style.zIndex="10";const e=o.querySelector(".education-title"),t=o.querySelector(".education-year"),n=o.querySelector(".education-school"),s=o.querySelector(".education-description");e&&(e.style.transform="translateX(5px)"),t&&(t.style.backgroundColor="black"),t&&(t.style.color="white"),n&&(n.style.transform="translateX(-5px)"),s&&(s.style.transform="translateY(-3px)",s.style.opacity="1")}),o.addEventListener("mouseleave",()=>{setTimeout(()=>{o.style.zIndex=""},300);const e=o.querySelector(".education-title"),t=o.querySelector(".education-year"),n=o.querySelector(".education-school"),s=o.querySelector(".education-description");e&&(e.style.transform=""),t&&(t.style.backgroundColor=""),t&&(t.style.color=""),n&&(n.style.transform=""),s&&(s.style.transform="",s.style.opacity="")}))}),function(){const e=document.querySelectorAll("#education .education-card");if("IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("in-view")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{e.classList.add("scroll-animate"),t.observe(e)})}else e.forEach(e=>{e.classList.add("in-view")})}()}()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("contact-form"),t=document.getElementById("modal-confirm"),o=document.getElementById("modal-close");if(!e||!t||!o)return;const n=e.querySelectorAll(".form-group");function s(){alert("Hubo un problema al enviar el formulario. Por favor, intenta nuevamente.")}function i(){t.style.display="none",document.body.style.overflow=""}n.forEach(e=>{const t=e.querySelector("input, textarea"),o=e.querySelector("label");t&&o&&(""!==t.value.trim()&&o.classList.add("active"),t.addEventListener("focus",()=>{o.classList.add("active"),t.classList.add("active")}),t.addEventListener("blur",()=>{""===t.value.trim()&&o.classList.remove("active"),t.classList.remove("active")}))}),e.addEventListener("submit",i=>{i.preventDefault();const c=new FormData(e);fetch("https://formspree.io/f/mzzvvgog",{method:"POST",body:c,headers:{Accept:"application/json"}}).then(i=>{i.ok?(e.reset(),n.forEach(e=>{const t=e.querySelector("label");t&&t.classList.remove("active")}),t.style.display="flex",document.body.style.overflow="hidden",o.focus()):s()}).catch(()=>{s()})}),o.addEventListener("click",i),o.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key&&"Escape"!==e.key||i()}),window.addEventListener("keydown",e=>{"flex"===t.style.display&&"Escape"===e.key&&i()}),t.addEventListener("click",e=>{e.target===t&&i()})});
