---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';

// Obtener skills de la colección y ordenarlas
const skills = (await getCollection('skills')).sort(
  (a, b) => a.data.order - b.data.order
);
---

<section id="skills" class="section fade-in-section" aria-labelledby="skills-title">
  <div class="container">
    <h2 id="skills-title" class="section-title scroll-animation from-bottom">SKILLS</h2>
    <div class="skills-grid">
      {skills.map((skill, index) => {
        // Generar delay dinámicamente (ciclo de 1-6)
        const delay = `delay-${(index % 6) + 1}`;
        
        return (
          <div class={`skill-card scroll-animation from-left ${delay}`}>
            <div class="skill-logo">
              <Image
                src={skill.data.icon}
                alt={skill.data.name}
                width={48}
                height={48}
                loading="lazy"
                format="png"
              />
            </div>
            <div class="skill-name">{skill.data.name}</div>
          </div>
        );
      })}
    </div>
  </div>
</section>
